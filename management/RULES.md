# 開発ルール v0.3
**最終更新：2025-08-01 10:16:03 JST**

## 全AI共通ルール
**毎回作業開始時に自分の役割専用ルールファイルを読み直すこと**
- 開発チーム: development/DEV_RULES.md（作成予定）
- ライター: management/writer/WRITER_RULES.md（作成済み）
- チェッカー: management/checker/CHECKER_RULES.md（作成予定）
- レビュワー: management/reviewer/REVIEWER_RULES.md（作成予定）

## 継続性確保の原則
**いつ誰がどのタイミングで見ても、これまでの経緯と次の作業がイメージできること**
- 作業記録、ドキュメント、TODOリストを常に最新に保つ
- 次のAIが迷わず作業を引き継げる状態を維持する
- 不明瞭な状態で作業を終了しない

## 基本ルール

### 1. 作業記録
- 開発チーム: development/work_history.logに記録
- マネジメントチーム: management/[役割]/work_history.logに記録
- **必ずdateコマンドで時刻を取得して記録（例：date '+%Y-%m-%d %H:%M:%S JST'）**
- 作業ごとに1エントリ追加（まとめて記載しない）
- **各役割のフォルダにprompt.txtを作成し、ユーザーのプロンプトをそのまま記録**
- **work_history.logとprompt.txtは同じ時刻で記録する**

### 2. フィードバック
- 困ったこと、分かりにくかったことはdevelopment/feedback.logに記載

### 3. ファイル作成
- 新規ファイルを作成する前に、その必要性を検討すること

### 4. フォルダ操作（マネジメントチームのみ）
- **フォルダの削除、移動を行う場合は必ずユーザーに確認をとってから**
- 開発チームはフォルダの削除・移動は禁止

### 5. 返信時の役割表明
- すべてのAIは返信の最後に自分の役割を明記すること
- 形式：「★私は[チーム名]の[役割]です」
- 例：
  - ★私は開発チームです
  - ★私はマネジメントチームのライターです
  - ★私はマネジメントチームのチェッカーです
  - ★私はマネジメントチームのレビュワーです

### 6. ルール確認フロー
**以下のタイミングで必ずルール確認を実施すること：**
1. **会話開始時**：必須確認
2. **バージョンアップ時**：全ルール再読み込み
3. **system-reminderでの変更通知時**：即座に確認
4. **他役割からルール変更の連絡時**：即座に確認

確認時は最終更新時刻をチェックし、前回確認時より新しければ全文を再読み込みすること。

### 7. プロンプト・作業履歴監視体制
**tools/prompt-history-checker.pyによる自動監視を実施**

#### A. 定期実行スケジュール
- **日次チェック**：毎日21:00に実行
- **週次レポート**：毎週月曜朝に実行
- **バージョンアップ前**：必須チェック項目

#### B. 実行コマンド
```bash
python tools/prompt-history-checker.py .
```

#### C. レポート活用
- **HTML形式**：ブラウザで視覚的確認
- **JSON形式**：プログラムでの自動処理
- **TXT形式**：簡易確認・ログ記録

#### D. 非適合時の対応
1. 24時間以内の記録補完を実施
2. 記録不一致の原因を特定・改善
3. 継続違反時はエスカレーション