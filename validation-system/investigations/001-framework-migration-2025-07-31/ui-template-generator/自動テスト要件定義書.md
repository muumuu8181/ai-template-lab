# UI Template Generator 自動テスト要件定義書

## 概要
UI Template Generator v0.41の機能を自動的にテストするE2Eテストスイートの開発を依頼します。

## テスト対象アプリケーション
- **アプリケーション名**: UI Template Generator
- **バージョン**: v0.41
- **ファイル構成**: 
  - index.html（メインHTML）
  - script.js（JavaScript実装）
  - style.css（スタイルシート）
- **対応ブラウザ**: Chrome, Firefox, Edge

## 推奨技術スタック
以下のいずれかを使用してください：
- **Playwright** (推奨) - マルチブラウザ対応、高速
- **Cypress** - 開発者フレンドリー、ビジュアルデバッグ
- **Puppeteer** - Chrome/Chromium特化
- **Selenium WebDriver** - 多言語対応

## テストケース一覧

### 1. 基本的なグループ作成テスト
**目的**: グループが正しく作成されることを確認
**手順**:
1. ページを開く
2. 横「3」、縦「2」を選択
3. 「新規グループ」ボタンをクリック
4. グループが作成されることを確認
5. ボタンが3×2（6個）表示されることを確認

### 2. グループ選択と設定読み込みテスト
**目的**: グループクリックで設定が読み込まれることを確認
**手順**:
1. 複数のグループを異なる設定で作成
   - グループ1: 3×2、幅100px、高さ40px
   - グループ2: 2×3、幅60px、高さ80px
2. グループ2をクリック
3. 上部セレクターの値が以下に変わることを確認：
   - 横: 2
   - 縦: 3
   - 幅: 60
   - 高さ: 80
4. アクティブグループ表示が更新されることを確認

### 3. 設定反映テスト（重要）
**目的**: チェックしたグループに設定が正しく反映されることを確認
**手順**:
1. グループを3つ作成
2. グループ2をクリックして選択
3. 高さを100pxに変更
4. グループ2のチェックボックスをオン
5. 「反映」ボタンをクリック
6. グループ2のボタンの高さが実際に100pxになっていることを確認
   - `getComputedStyle(button).height`で確認
   - `button.style.height`の値も確認

### 4. 複数グループへの一括反映テスト
**目的**: 複数グループに設定が一括反映されることを確認
**手順**:
1. グループを5つ作成
2. グループ1、3、5にチェック
3. 色を緑（#2ecc71）に変更
4. 「反映」ボタンをクリック
5. グループ1、3、5のボタンが緑色になることを確認
6. グループ2、4は変更されないことを確認

### 5. 横1列にまとめる機能テスト
**目的**: チェックしたグループが横並びになることを確認
**手順**:
1. グループを5つ作成
2. グループ2と4にチェック
3. 「横1列にまとめる」ボタンをクリック
4. グループ2と4が同じ行に配置されることを確認
5. 全体の行数が4行になることを確認

### 6. 操作履歴ログテスト
**目的**: すべての操作がログに記録されることを確認
**手順**:
1. 以下の操作を順番に実行：
   - グループ作成
   - グループ選択
   - チェックボックス変更
   - 設定反映
2. 操作履歴パネルに各操作が時刻付きで表示されることを確認
3. 「ログをコピー」ボタンをクリック
4. クリップボードにログがコピーされることを確認

### 7. エッジケーステスト
**目的**: 異常系の動作確認
**手順**:
1. グループが0個の状態で「全グループチェック」をクリック
2. チェックなしで「反映」ボタンをクリック → エラーメッセージ確認
3. チェック1個で「横1列にまとめる」をクリック → エラーメッセージ確認
4. アクティブグループを削除 → 表示がリセットされることを確認

## 検証項目

### DOM要素の検証
- グループ数のカウント
- ボタン数のカウント
- CSSクラスの存在確認（active, selected-for-merge等）

### スタイルの検証
- ボタンのwidth/heightの実測値
- 背景色の確認
- borderの色と太さ

### 状態管理の検証
- activeGroupIdの値
- selectedGroupIdsの配列内容
- buttonGroupsの配列内容とプロパティ

## 期待される成果物

1. **テストコード**
   - 上記すべてのテストケースを実装
   - 読みやすく保守しやすいコード
   - 適切なコメント

2. **セットアップドキュメント**
   - 必要な依存関係のインストール方法
   - テストの実行方法
   - CI/CD統合方法（オプション）

3. **テスト実行レポート**
   - 各テストケースの合否
   - スクリーンショット（失敗時）
   - パフォーマンス測定（オプション）

## 追加要望（オプション）

1. **ビジュアルリグレッションテスト**
   - レイアウト崩れの検出
   - スクリーンショット比較

2. **アクセシビリティテスト**
   - キーボード操作の確認
   - スクリーンリーダー対応（ARIA属性）

3. **パフォーマンステスト**
   - 大量グループ作成時の動作
   - メモリリークの検出

## 納期と予算
- 希望納期：要相談
- 予算：要相談
- 質問や不明点があれば、お気軽にお問い合わせください

## 参考資料
- 仕様書・要件定義書.md
- 操作履歴ログのサンプル（提供可能）
- 現在の手動テスト手順書（作成可能）